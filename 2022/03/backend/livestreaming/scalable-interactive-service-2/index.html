<!DOCTYPE html>
<html>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8a93c20d917ce67e8fba94a160940c4f";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    
    <title>How to Build a Scalable Live Streaming Interactive Service - Part II | XhinLiang</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="Backend,LiveStreaming,Live">
    
    <meta name="description" content="BackgroundBecause of the networking improvement and the influent of the COVID-19, live streaming has become the hottest technology on the Internet, again.  In the past article we have discussed signal">
<meta name="keywords" content="Backend,LiveStreaming,Live">
<meta property="og:type" content="article">
<meta property="og:title" content="How to Build a Scalable Live Streaming Interactive Service - Part II">
<meta property="og:url" content="https://xhinliang.win/2022/03/backend/livestreaming/scalable-interactive-service-2/index.html">
<meta property="og:site_name" content="XhinLiang">
<meta property="og:description" content="BackgroundBecause of the networking improvement and the influent of the COVID-19, live streaming has become the hottest technology on the Internet, again.  In the past article we have discussed signal">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://xhinliang.win/uploads/persister-how-to-build-a-scalable-live-streaming-interactive-service--e6c9d24ely1h0obi03jucj20yv0u0dkg.jpg">
<meta property="og:updated_time" content="2024-04-30T13:20:54.518Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How to Build a Scalable Live Streaming Interactive Service - Part II">
<meta name="twitter:description" content="BackgroundBecause of the networking improvement and the influent of the COVID-19, live streaming has become the hottest technology on the Internet, again.  In the past article we have discussed signal">
<meta name="twitter:image" content="https://xhinliang.win/uploads/persister-how-to-build-a-scalable-live-streaming-interactive-service--e6c9d24ely1h0obi03jucj20yv0u0dkg.jpg">
    

    

    
        <link rel="icon" href="/uploads/avatar.png">
    

    <link rel="stylesheet" href="/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/vendor/titillium-web/styles.css">
    <link rel="stylesheet" href="/vendor/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/vendor/jquery/2.0.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/vendor/fancybox/jquery.fancybox.css">
    
    
        <link rel="stylesheet" href="/vendor/scrollLoading/style.css">
    
    
    

</head>
</html>
<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">A place to talk trash</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Algorithm/">Algorithm</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Backend/">Backend</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Computer/">Computer</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Frontend/">Frontend</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Uncategorized/">Uncategorized</a></li></ul>
                                    
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about/index.html">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <div class="search-form">
        <input type="text" class="st-default-search-input search-form-input" placeholder="Search" />
    </div>
    <script type="text/javascript">
(function(w,d,t,u,n,s,e) {w['SwiftypeObject']=n;w[n]=w[n]||function() {
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','3MHy44anUbqi-KpQvFB8','2.0.0');
</script>
<style>
    .st-ui-injected-overlay-container,
    .st-ui-injected-overlay-container *:not(select) {
        font-family: inherit !important;
    }
    section.st-ui-content.st-search-results a.st-ui-result .st-ui-type-heading {
        color: #3b8dbd !important;
    }
    .st-ui-injected-overlay-container .st-ui-header input[type="text"]:focus {
        border-bottom: 2px solid #3b8dbd;
    }
    .st-ui-injected-overlay-container .st-ui-footer a.st-ui-pagination-link {
        color: #3b8dbd;
    }
    .st-ui-injected-overlay-container .st-ui-footer a.st-ui-pagination-link span.st-ui-arrow {
        border-color: #3b8dbd;
    }
</style>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Backend/">Backend</a>
    </h1>
</div>
                        <div class="main-body-content">
                            <article id="post-backend/livestreaming/scalable-interactive-service-2" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        How to Build a Scalable Live Streaming Interactive Service - Part II
        </h1>
    

            </header>
        
        <div class="article-subtitle">
            <a href="/2022/03/backend/livestreaming/scalable-interactive-service-2/" class="article-date">
    <time datetime="2022-03-27T00:00:00.000Z" itemprop="datePublished">2022-03-27</time>
</a>
            
    <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Backend/">Backend</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Live/">Live</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LiveStreaming/">LiveStreaming</a></li></ul>

        </div>
        <div class="article-entry" itemprop="articleBody">
            <h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>Because of the networking improvement and the influent of the COVID-19, live streaming has become the hottest technology on the Internet, again.</p>
<p><img src="/uploads/persister-how-to-build-a-scalable-live-streaming-interactive-service--e6c9d24ely1h0obi03jucj20yv0u0dkg.jpg" alt></p>
<p>In the past article we have discussed signal modeling and interactive modeling, this time we will discuss the scale methods of interactive service.</p>
<h2 id="Limitations"><a href="#Limitations" class="headerlink" title="Limitations"></a>Limitations</h2><p>As we all know, there are simply two kinds of services in the backend, called stateless service and stateful service.</p>
<p>Stateless service means that the service processes requests based only on the information relayed with each request and doesn’t rely on information from earlier requests.</p>
<p>Stateful service means that the service processes requests based on the information relayed with each request and information stored from earlier requests.</p>
<p>The biggest difference between stateless service and stateful service is that stateless service can route requests to different instances easily and stateful service can’t.</p>
<p>The stateless services are easy to scale so that the bottleneck of the entire system commonly comes from the stateful parts.</p>
<p>The interactive service of live streaming is composed of a few parts as I mention below.</p>
<ul>
<li>Storages<ul>
<li>Relational Databases</li>
</ul>
</li>
<li>Caches<ul>
<li>Structured Collections</li>
<li>K-V Caches</li>
</ul>
</li>
<li>Calculating Services<ul>
<li>Scheduled Tasks</li>
</ul>
</li>
<li>Paying Service<ul>
<li>Account Transporting</li>
</ul>
</li>
<li>HTTP Servers</li>
<li>Signaling Servers</li>
</ul>
<p>And today the scaling methods of interactive service are aiming at these parts, too.</p>
<h2 id="Scaling-Methods"><a href="#Scaling-Methods" class="headerlink" title="Scaling Methods"></a>Scaling Methods</h2><p>The distributed systems are often constructed by several small instances, we can increase the capacity and performance by scaling the instance up. But before scaling it up we have to make our system scalable.</p>
<h3 id="Relational-Databases"><a href="#Relational-Databases" class="headerlink" title="Relational Databases"></a>Relational Databases</h3><p>As an internet service, we always use a relational database for data storage. We can split our data into different parts so that we can store them in different databases so that we can scale our database up.</p>
<p>We can treat our live streaming databases in this way, too. But the data of live streaming has some special characteristics.</p>
<ul>
<li>Timeliness. For now, the longest duration of live streaming is less than 480 hours, the average duration is less than 5 minutes. Mostly we only care about the ongoing live streaming rooms, so we can just store the recent 4 weeks’ records for online service.</li>
<li>Geographically. People would like to consume the live streaming related to them. So we can simply split the live streaming records by the region of the anchor.</li>
</ul>
<p>Firstly, we generate the live streaming room id according to the anchor id, which is generated by the region where they signup their accounts.</p>
<p>And then we insert the record into the database which the live streaming room id belongs to.</p>
<p>When we are querying the database by ongoing live streaming room id, we can route the request to the actual database by the id.</p>
<p>When we are querying the database by offline live streaming room id, we can just route it into archiving database which is append-only and can be easily extended by adding nodes.</p>
<p><img src="/uploads/persister-scalable-interactive-service-2--e6c9d24ely1h0oertdxcbj216h0u0tc7.jpg" alt></p>
<h3 id="Structured-Collections"><a href="#Structured-Collections" class="headerlink" title="Structured Collections"></a>Structured Collections</h3><p>We use Redis to implement the structured collections, so the method to scale the structured collections is to scale the Redis servers.</p>
<p>We never use <code>Redis Cluster</code> technology as our <code>Redis Cluster</code> solution. Conversely, we just use twemproxy to reroute the write and query. So the <code>Redis Cluster</code> we talk about below is not as same as the official <code>Redis Cluster</code> but the cluster constructed by several Twemproxy, Redis-Master, Redis-Slave, and Redis-Sentinal.</p>
<p>On the other hand, we often build two same Redis Cluster in different AZ(Available Zone) and assign one of them as the main cluster by config.</p>
<p>The write operation of the main cluster would replica to the secondary cluster by Kafka Message.</p>
<p><img src="/uploads/persister-scalable-interactive-service-2--e6c9d24ely1h0ofdhqbrcj215g0u078o.jpg" alt></p>
<p>In the image above, We can notice that the <code>Twemproxy</code> is a stateless service so it’s scalable and will not be the bottleneck of the Redis Cluster.</p>
<p>In fact, the key of Redis storage is often constructed by the room id, after scaling the Redis servers up, all we have to do is prevent building big-key and hot-key of Redis.</p>
<p>Big-key often comes from the write operation of sorted set keys and hash keys. In the scenario of live streaming, there are two effective methods to avoid big-key.</p>
<ul>
<li>Trim the collection to a fixed length when the collection is bigger than the threshold;</li>
<li>Limit the writing speed by rate-limiter or some other method.</li>
</ul>
<p>Hot-Key often comes from the read operation, in order to prevent it, we can use these ways below.</p>
<ul>
<li>Use another cache to store the result temporarily. For example, we can build a local cache in our service and this local cache will serve all the requests before expired;</li>
<li>Storage the key redundantly and choose a key randomly to read. In the general Redis Cluster solution, the different keys will locate in a different Redis-Server, so that all the requests will not be routed in a certain Redis-Server, too.</li>
</ul>
<p><img src="/uploads/persister-scalable-interactive-service-2--e6c9d24ely1h0olq9yfdqj21aw0u00wc.jpg" alt></p>
<p>Also, in the social platform, detecting hotspots and using a separate policy to limit writing and reading rate is a common way to be scalable.</p>
<h3 id="K-V-Caches"><a href="#K-V-Caches" class="headerlink" title="K-V Caches"></a>K-V Caches</h3><p>We use Memcached as our K-V Caches. Which “K-V” of K-V Caches always comes from the databases.</p>
<p>Different from Redis, we use no proxy in Memcached. All the read is routed by the client.</p>
<p>There are no master and slave in Memcached, so we built several clusters for the same usage. All the clusters are equal.</p>
<p><img src="/uploads/persister-scalable-interactive-service-2--e6c9d24ely1h0ogzrpxaej20xn0u077z.jpg" alt></p>
<p>When the client tries to read a cache from Memcached, it will have a few steps as below.</p>
<ol>
<li>Choose a cluster of its AZ randomly, and then calculate the hash number and route to a Memcached Node by this hash number;</li>
<li>Try to read this Memcached Node, return immediately if success;</li>
<li>Choose another cluster of its AZ randomly, and route to another Memcached Node by another hash number;</li>
<li>Try to read this Memcached Node. Firstly write back to the Memcached Node in step.2 and then return;</li>
<li>Call a service named <code>DbReader</code> to read the database and then write back to the Memcached Nodes of step.4 and step.2.</li>
</ol>
<p>One more thing worth mentioning is that the hash salts of different Memcached Cluster are different so that the same index Memacached Node of different Memcached Cluster will not store the values of the same keys.</p>
<p>In this way cache, we will have the highest availability.</p>
<ul>
<li>If one Memcached node is down, no cached will be lost because clients will read the lost keys from another Memcached Cluster and write back;</li>
<li>If two Memcached nodes of different Memcached Clusters are down, only 1/M * 1/N data will be lost. (M, N means the nodes count of the Memcached Clusters)</li>
</ul>
<h3 id="Scheduled-Tasks"><a href="#Scheduled-Tasks" class="headerlink" title="Scheduled Tasks"></a>Scheduled Tasks</h3><p>Processing some business periodically is a very common live streaming backend. Most of the process tasks do have these properties.</p>
<ul>
<li>They should know which rooms are ongoing;</li>
<li>They would do the logic separate by the live streaming room.</li>
</ul>
<p>As we know, the ongoing live streaming rooms are stored in the online databases, we can only query the ongoing live streaming room ids by scanning these tables, it would be an extravagant operation, especially for lots of businesses and processes scan concurrently.</p>
<p>We can use a service named “OngoingQuery” to protect the databases.</p>
<p><img src="/uploads/persister-scalable-interactive-service-2--e6c9d24ely1h0om5ilpczj21fl0u0dka.jpg" alt></p>
<p>The OngoingQuery service will store all the room ids of ongoing live streaming.</p>
<p>They scan the databases periodically to update the entire cache of themselves, and they the binlog of databases for instantly update. In this way, the cache of the OngoingQuery service will be the same as the data of the database eventually.</p>
<p>When we deploy a number of shard tasks for processing some business data, the shard tasks will register themselves to ZooKeeper at first, and then run periodically to do these things.</p>
<ul>
<li>Query the ZooKeeper to know how many process instances at this moment;</li>
<li>Find out the index itself of all the process instances;</li>
<li>Request Ongoing Query service to get the part of the partition result;</li>
<li>Process the business of the part.</li>
</ul>
<p>With these partition abstractions, we can separate the process task into several process instances and they can run concurrently.</p>
<h3 id="Account-Transporting"><a href="#Account-Transporting" class="headerlink" title="Account Transporting"></a>Account Transporting</h3><p>Almost every live streaming platform will support gift features.</p>
<p>The key content of the live streaming gift is account transporting. When an audience tries to pay a gift for the anchor, there will be an account transporting between the account of the audience and the account of the anchor.</p>
<p>As we know, platforms often store the balance of different users in different databases for scalability. So the account transporting in live streaming will always be a distributed transaction, which is very expensive.</p>
<p>We can use a virtual account to improve the transporting performance.</p>
<p><img src="/uploads/persister-scalable-interactive-service-2--e6c9d24ely1h0omsn1ul4j21570u0jw6.jpg" alt></p>
<p>When the live streaming room begins, we will create a virtual account for this live streaming room in each database of user balance.</p>
<p>The gifting operation during the live streaming will be transportation between the audience account and the virtual account of the database which the audience account belongs to.</p>
<p>When the live stream room end, the service named “Settler” will collect all of the virtual accounts and do the distributed transaction between virtual accounts and the anchor account.</p>
<h3 id="HTTP-Service"><a href="#HTTP-Service" class="headerlink" title="HTTP Service"></a>HTTP Service</h3><p>There are lots of load-balancing strategies for HTTP services, so I will not talk about this topic a lot.</p>
<p>The only thing I want to mention is that we can use a route policy in Nginx, for routing the same room id to the same group of service nodes, which would help us to increase the hit rate of local-cache.</p>
<h3 id="Signaling-Servers"><a href="#Signaling-Servers" class="headerlink" title="Signaling Servers"></a>Signaling Servers</h3><p>We have talked about this in the <a href="https://xhinliang.win/2022/01/backend/livestreaming/scalable-interactive-service-1/">How to Build a Scalable Live Streaming Interactive Service - Part I</a>.</p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>In this article, we have discussed the scale strategies of the stateful services of live streaming interactive services. Some people also called these strategies “sharding strategy”.</p>
<p>All of these things have a core concept commonly – “Split the big thing into small things”, oh we have learned it in our university, isn’t it?</p>
<p>Next time I will share my thoughts on building a multi-region or cross-region live streaming platform, hope you will like it.</p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><a href="https://en.wikipedia.org/wiki/Service_statelessness_principle#:~:text=Service%20statelessness%20is%20a%20design,their%20state%20data%20whenever%20possible" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Service_statelessness_principle#:~:text=Service%20statelessness%20is%20a%20design,their%20state%20data%20whenever%20possible</a>.</li>
<li><a href="https://www.proud2becloud.com/stateful-vs-stateless-the-good-the-bad-and-the-ugly/" target="_blank" rel="noopener">https://www.proud2becloud.com/stateful-vs-stateless-the-good-the-bad-and-the-ugly/</a></li>
</ul>

        </div>
        <footer class="article-footer">
            



    <a data-url="https://xhinliang.win/2022/03/backend/livestreaming/scalable-interactive-service-2/" data-id="clvmf2h8o003mdgp5lcb9bsrf" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

<section id="comments">
    
    
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
  <div id="gitalk-container"></div>
  <script>
  var str = window.location.href;
  var segments = new URL(str).pathname.split('/');
  var last = segments.pop() || segments.pop();
  var gitalk = new Gitalk({
    clientID: '3bc58c210437748e5c1a',
    clientSecret: 'b09d5996ecdc60d1f183120c3f4f0864bf6a9af9',
    repo: 'xhinliang-win',      // The repository of store comments,
    owner: 'XhinLiang',
    admin: ['XhinLiang'],
    id: last,      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  });
  gitalk.render('gitalk-container');
</script>


    
</section>

                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="twitter" href="https://twitter.com/xhinliang" target="_blank">
                        <i class="icon fa fa-twitter"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="https://www.facebook.com/xhin.liang" target="_blank">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="google-plus" href="https://plus.google.com/105647538121556950461" target="_blank">
                        <i class="icon fa fa-google-plus"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/XhinLiang" target="_blank">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="http://weibo.com/xhinliang" target="_blank">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2023/12/backend/rate-limiter-in-action/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            Rate Limiter In Action
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2022/01/backend/livestreaming/scalable-interactive-service-1/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">How to Build a Scalable Live Streaming Interactive Service - Part I</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2024/04/backend/http-graceful-cancelation/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Backend/">Backend</a></p>
                            <p class="item-title"><a href="/2024/04/backend/http-graceful-cancelation/" class="title">HTTP Graceful Cancelation</a></p>
                            <p class="item-date"><time datetime="2024-04-24T00:00:00.000Z" itemprop="datePublished">2024-04-24</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2023/12/backend/rate-limiter-in-action/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Backend/">Backend</a></p>
                            <p class="item-title"><a href="/2023/12/backend/rate-limiter-in-action/" class="title">Rate Limiter In Action</a></p>
                            <p class="item-date"><time datetime="2023-12-29T00:00:00.000Z" itemprop="datePublished">2023-12-29</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/03/backend/livestreaming/scalable-interactive-service-2/" class="thumbnail">
    
    
        <span style="background-image:url(/uploads/persister-how-to-build-a-scalable-live-streaming-interactive-service--e6c9d24ely1h0obi03jucj20yv0u0dkg.jpg)" alt="How to Build a Scalable Live Streaming Interactive Service - Part II" class="thumbnail-image"></span>
    
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Backend/">Backend</a></p>
                            <p class="item-title"><a href="/2022/03/backend/livestreaming/scalable-interactive-service-2/" class="title">How to Build a Scalable Live Streaming Interactive Service - Part II</a></p>
                            <p class="item-date"><time datetime="2022-03-27T00:00:00.000Z" itemprop="datePublished">2022-03-27</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/01/backend/livestreaming/scalable-interactive-service-1/" class="thumbnail">
    
    
        <span style="background-image:url(/uploads/persister-how-to-build-a-scalable-live-streaming-interactive-service--e6c9d24ely1h0obi03jucj20yv0u0dkg.jpg)" alt="How to Build a Scalable Live Streaming Interactive Service - Part I" class="thumbnail-image"></span>
    
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Backend/">Backend</a></p>
                            <p class="item-title"><a href="/2022/01/backend/livestreaming/scalable-interactive-service-1/" class="title">How to Build a Scalable Live Streaming Interactive Service - Part I</a></p>
                            <p class="item-date"><time datetime="2022-01-15T00:00:00.000Z" itemprop="datePublished">2022-01-15</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/10/uncategorized/me-and-my-game-life/" class="thumbnail">
    
    
        <span style="background-image:url(/uploads/persister-me-and-my-game-life-Witcher-2020-05-19_5ec3eb24973b8_vedmak-3-dikaia-okhota-geralt-tsiri-triss-iennifer-ciri-gera-1056x594.jpg)" alt="Me and My Game Life" class="thumbnail-image"></span>
    
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a></p>
                            <p class="item-title"><a href="/2021/10/uncategorized/me-and-my-game-life/" class="title">Me and My Game Life</a></p>
                            <p class="item-date"><time datetime="2021-10-02T00:00:00.000Z" itemprop="datePublished">2021-10-02</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Backend/">Backend</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Computer/">Computer</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/">Frontend</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Uncategorized/">Uncategorized</a><span class="category-list-count">3</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">April 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">2</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/Algorithm/" style="font-size: 17.5px;">Algorithm</a> <a href="/tags/Android/" style="font-size: 12.5px;">Android</a> <a href="/tags/Backend/" style="font-size: 20px;">Backend</a> <a href="/tags/Cache/" style="font-size: 10px;">Cache</a> <a href="/tags/Cancel/" style="font-size: 10px;">Cancel</a> <a href="/tags/Cancelation/" style="font-size: 10px;">Cancelation</a> <a href="/tags/Computer/" style="font-size: 12.5px;">Computer</a> <a href="/tags/Concurrent/" style="font-size: 12.5px;">Concurrent</a> <a href="/tags/Data-Structure/" style="font-size: 10px;">Data Structure</a> <a href="/tags/DevOps/" style="font-size: 10px;">DevOps</a> <a href="/tags/Distributed/" style="font-size: 10px;">Distributed</a> <a href="/tags/FileSystem/" style="font-size: 10px;">FileSystem</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/HTTP-2/" style="font-size: 10px;">HTTP/2</a> <a href="/tags/HttpClient/" style="font-size: 10px;">HttpClient</a> <a href="/tags/InnoDB/" style="font-size: 10px;">InnoDB</a> <a href="/tags/Java/" style="font-size: 17.5px;">Java</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Live/" style="font-size: 12.5px;">Live</a> <a href="/tags/LiveStreaming/" style="font-size: 12.5px;">LiveStreaming</a> <a href="/tags/Lock/" style="font-size: 10px;">Lock</a> <a href="/tags/Lua/" style="font-size: 10px;">Lua</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/XHR/" style="font-size: 10px;">XHR</a> <a href="/tags/macOS/" style="font-size: 12.5px;">macOS</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://igaves.com">莫大艺术家</a>
                    </li>
                
                    <li>
                        <a href="https://qiutc.me">阿城</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>
                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2024 XhinLiang</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
        </div>
    </div>
</footer>
        

<script type="text/javascript">
    var duoshuoQuery = {
        short_name: 'undefined'
    };
</script>




    
        <script src="/vendor/fancybox/jquery.fancybox.pack.js"></script>
    

    
        <script src="/vendor/scrollLoading/jquery.scrollLoading.js"></script>
        <script src="/vendor/scrollLoading/main.js"></script>
    


<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
